//
//  Bot.swift
//  Livebot
//
//  Created by Zhe Cui on 9/5/17.
//  Copyright Â© 2017 Zhe Cui. All rights reserved.
//

import Foundation
import RealmSwift


enum Bot {
  case weather(Request)
}

class DataSource: Object {
  dynamic var text: String?
  dynamic var weather: Weather?
  dynamic var timeStamp = Date()
}

class APIai {
  var cityName = "Unknown"
  var date = ""
}

class Weather: Object {
  dynamic var cityName = "Unknown"
  dynamic var temperature = -1000
  dynamic var humidity = 0
  dynamic var icon = iconNameToChar(icon: "e")
  dynamic var date = "Unknown"
}

/**
 * Maps an icon information from the API to a local char
 * Source: http://openweathermap.org/weather-conditions
 */
public func iconNameToChar(icon: String) -> String {
  switch icon {
  case "01d":
    return "\u{f11b}"
  case "01n":
    return "\u{f110}"
  case "02d":
    return "\u{f112}"
  case "02n":
    return "\u{f104}"
  case "03d", "03n":
    return "\u{f111}"
  case "04d", "04n":
    return "\u{f111}"
  case "09d", "09n":
    return "\u{f116}"
  case "10d", "10n":
    return "\u{f113}"
  case "11d", "11n":
    return "\u{f10d}"
  case "13d", "13n":
    return "\u{f119}"
  case "50d", "50n":
    return "\u{f10e}"
  default:
    return "E"
  }
}
